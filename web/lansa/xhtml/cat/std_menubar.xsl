<?xml version="1.0" encoding="UTF-8"?><!--(c) 2011, 2013 LANSA--><!--Standard jQuery UI based menubar--><!--$Workfile:: std_menubar.xsl $--><!--$UTCDate:: 2013-06-07 06:29:24Z $--><!--$Revision:: 18 $--><xsl:transform version="1.0" exclude-result-prefixes="lxml wd msxsl exslt" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:lxml="http://www.lansa.com/2002/XML/Runtime-Data" xmlns:wd="http://www.lansa.com/2002/XSL/Weblet-Design" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:exslt="http://exslt.org/common" xmlns="http://www.w3.org/1999/xhtml"><xsl:import href="std_types.xsl"></xsl:import><xsl:import href="std_util.xsl"></xsl:import><xsl:import href="std_keys.xsl"></xsl:import><xsl:output method="xml" omit-xml-declaration="yes" encoding="UTF-8" indent="yes"></xsl:output><lxml:data><lxml:menu><lxml:font size="9" bold="true" italic="false"></lxml:font><lxml:item><lxml:caption>Sample Item 1</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent><lxml:item><lxml:caption>Sample SubItem 1</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent></lxml:item><lxml:item><lxml:caption>Sample SubItem 2</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent></lxml:item></lxml:item><lxml:item><lxml:caption>Sample Item 2</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent><lxml:item><lxml:caption>Sample SubItem 2</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent></lxml:item></lxml:item><lxml:item><lxml:caption>Sample Item 3</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:item><lxml:caption>Sample SubItem 3</lxml:caption><lxml:action></lxml:action><lxml:wam></lxml:wam><lxml:webroutine></lxml:webroutine><lxml:vf-wamevent></lxml:vf-wamevent></lxml:item></lxml:item></lxml:menu></lxml:data><xsl:template name="std_menubar"><xsl:param name="name" select="concat('std_menubar', generate-id())"></xsl:param><xsl:param name="menu_items" select="document('')/*/lxml:data/lxml:menu"></xsl:param><xsl:param name="listname"></xsl:param><xsl:param name="orientation" select="'top'"></xsl:param><xsl:param name="show_arrows" select="false()"></xsl:param><xsl:param name="submit_selected_to" select="'STDRENTRY'"></xsl:param><xsl:variable name="menu_items_frag"><xsl:call-template name="expand_mtxt_in_xml_items.private"><xsl:with-param name="items" select="$menu_items"></xsl:with-param></xsl:call-template></xsl:variable><ul id="{$name}"><xsl:if test="$lweb_design_mode or not($listname)"><xsl:choose><xsl:when test="$lweb_is_msxsl_nodeset"><xsl:call-template name="std_menubar_createLIs.private"><xsl:with-param name="items" select="msxsl:node-set($menu_items_frag)/*"></xsl:with-param><xsl:with-param name="item_path" select="$name"></xsl:with-param></xsl:call-template></xsl:when><xsl:when test="$lweb_is_exslt_nodeset"><xsl:call-template name="std_menubar_createLIs.private"><xsl:with-param name="items" select="exslt:node-set($menu_items_frag)/*"></xsl:with-param><xsl:with-param name="item_path" select="$name"></xsl:with-param></xsl:call-template></xsl:when></xsl:choose></xsl:if><xsl:comment /></ul><script type="text/javascript"><xsl:text disable-output-escaping="yes">//&lt;![CDATA[</xsl:text><xsl:text></xsl:text>
Lstd.Weblets.registerWeblet('<xsl:value-of select="$name"></xsl:value-of>', { init: Lstd.Weblets.stdMenuBar.init}, {<xsl:text></xsl:text><xsl:text></xsl:text>orientation: "<xsl:value-of select="$orientation"></xsl:value-of>", showArrows: <xsl:value-of select="$show_arrows"></xsl:value-of>, <xsl:text></xsl:text><xsl:text></xsl:text>submitSelectedTo: "<xsl:value-of select="$submit_selected_to"></xsl:value-of>"<xsl:text></xsl:text><xsl:if test="$listname and not($lweb_design_mode)"><xsl:text></xsl:text>, itemsArray: [<xsl:text></xsl:text><xsl:for-each select="key('list',$listname)/lxml:list-entries/lxml:entry"><xsl:text></xsl:text>["<xsl:value-of select="lxml:column[1]"></xsl:value-of>", "<xsl:value-of select="lxml:column[2]"></xsl:value-of>", "<xsl:value-of select="lxml:column[3]"></xsl:value-of>", <xsl:text></xsl:text><xsl:text></xsl:text>"<xsl:value-of select="lxml:column[4]"></xsl:value-of>", "<xsl:value-of select="lxml:column[5]"></xsl:value-of>", "<xsl:value-of select="lxml:column[6]"></xsl:value-of>"<xsl:text></xsl:text><xsl:if test="lxml:column[7]">, "<xsl:value-of select="lxml:column[7]"></xsl:value-of>"</xsl:if>], <xsl:text></xsl:text></xsl:for-each><xsl:text></xsl:text>null]<xsl:text></xsl:text></xsl:if><xsl:text></xsl:text>});
<xsl:text disable-output-escaping="yes">//]]&gt;</xsl:text></script></xsl:template><xsl:template name="std_menubar_createLIs.private"><xsl:param name="items"></xsl:param><xsl:param name="item_path"></xsl:param><xsl:for-each select="$items/lxml:item"><li id="{concat($item_path,'_',position())}"><a href="#" class="ui-state-default ui-corner-all"><xsl:if test="lxml:action != ''"><xsl:attribute name="href"><xsl:value-of select="lxml:action"></xsl:value-of></xsl:attribute></xsl:if><xsl:attribute name="data-wam"><xsl:value-of select="lxml:wam"></xsl:value-of></xsl:attribute><xsl:attribute name="data-webroutine"><xsl:value-of select="lxml:webroutine"></xsl:value-of></xsl:attribute><xsl:if test="lxml:vf-wamevent != ''"><xsl:attribute name="data-vf-wamevent"><xsl:value-of select="lxml:vf-wamevent"></xsl:value-of></xsl:attribute></xsl:if><xsl:value-of select="lxml:caption"></xsl:value-of></a><xsl:if test="./lxml:item"><ul style="display:none;"><xsl:attribute name="style">display:none;</xsl:attribute><xsl:call-template name="std_menu_createLIs.private"><xsl:with-param name="items" select="."></xsl:with-param><xsl:with-param name="item_path" select="concat($item_path,'_',position())"></xsl:with-param></xsl:call-template><xsl:comment /></ul></xsl:if></li></xsl:for-each></xsl:template><xsl:template name="std_menu_createLIs.private"><xsl:param name="items"></xsl:param><xsl:param name="item_path"></xsl:param><xsl:for-each select="$items/lxml:item"><li id="{concat($item_path,'_',position())}"><a href="#"><xsl:if test="lxml:action != ''"><xsl:attribute name="href"><xsl:value-of select="lxml:action"></xsl:value-of></xsl:attribute></xsl:if><xsl:attribute name="data-wam"><xsl:value-of select="lxml:wam"></xsl:value-of></xsl:attribute><xsl:attribute name="data-webroutine"><xsl:value-of select="lxml:webroutine"></xsl:value-of></xsl:attribute><xsl:if test="lxml:vf-wamevent != ''"><xsl:attribute name="data-vf-wamevent"><xsl:value-of select="lxml:vf-wamevent"></xsl:value-of></xsl:attribute></xsl:if><xsl:value-of select="lxml:caption"></xsl:value-of></a><xsl:if test="./lxml:item"><ul style="display:none;"><xsl:call-template name="std_menu_createLIs.private"><xsl:with-param name="items" select="."></xsl:with-param><xsl:with-param name="item_path" select="concat($item_path,'_',position())"></xsl:with-param></xsl:call-template><xsl:comment /></ul></xsl:if></li></xsl:for-each></xsl:template></xsl:transform>